import{s as M,i as F,n as A,c as P,q as J,u as Q,v as W,w as X,o as Y}from"../chunks/scheduler.Cvp1HtTB.js";import{S as U,i as D,e as _,t as Z,c as $,a as b,b as ee,d as g,k as h,g as y,h as p,q as H,j as te,s as N,f as j,o as le,l as w,m as se,n as E,r as ne,u as x,v as L,w as I,x as T,B as q,p as ae}from"../chunks/index.Cn1wqISX.js";import{e as re}from"../chunks/each.D6YF6ztN.js";import{w as ie,g as oe}from"../chunks/entry.0S8UcRWE.js";import{p as ue}from"../chunks/stores._bodFJTL.js";function ce(r){let e,t,n,i,l;return{c(){e=_("li"),t=_("a"),n=Z(r[0]),this.h()},l(s){e=$(s,"LI",{});var a=b(e);t=$(a,"A",{title:!0,href:!0,class:!0});var u=b(t);n=ee(u,r[0]),u.forEach(g),a.forEach(g),this.h()},h(){h(t,"title",r[0]),h(t,"href",r[1]),h(t,"class","dark:text-white hover:text-white hover:bg-slate-500 transition-all text-end block text-nowrap p-6")},m(s,a){y(s,e,a),p(e,t),p(t,n),i||(l=H(t,"click",function(){F(r[2])&&r[2].apply(this,arguments)}),i=!0)},p(s,[a]){r=s,a&1&&te(n,r[0]),a&1&&h(t,"title",r[0]),a&2&&h(t,"href",r[1])},i:A,o:A,d(s){s&&g(e),i=!1,l()}}}function fe(r,e,t){let{title:n}=e,{slug:i}=e,{onClick:l}=e;return r.$$set=s=>{"title"in s&&t(0,n=s.title),"slug"in s&&t(1,i=s.slug),"onClick"in s&&t(2,l=s.onClick)},[n,i,l]}class z extends U{constructor(e){super(),D(this,e,fe,ce,M,{title:0,slug:1,onClick:2})}}const B=ie(!1);function me(r,e,t){const n=r.slice();return n[3]=e[t],n}function he(r){let e;return{c(){e=_("span"),this.h()},l(t){e=$(t,"SPAN",{class:!0}),b(e).forEach(g),this.h()},h(){h(e,"class","dark:bg-white h-0.5 rounded-sm w-full bg-black")},m(t,n){y(t,e,n)},p:A,d(t){t&&g(e)}}}function ge(r){let e,t,n,i;return e=new z({props:{slug:"/login",title:"Log In",onClick:r[2]}}),n=new z({props:{slug:"/register",title:"Register",onClick:r[2]}}),{c(){x(e.$$.fragment),t=N(),x(n.$$.fragment)},l(l){L(e.$$.fragment,l),t=j(l),L(n.$$.fragment,l)},m(l,s){I(e,l,s),y(l,t,s),I(n,l,s),i=!0},p:A,i(l){i||(E(e.$$.fragment,l),E(n.$$.fragment,l),i=!0)},o(l){w(e.$$.fragment,l),w(n.$$.fragment,l),i=!1},d(l){l&&g(t),T(e,l),T(n,l)}}}function de(r){let e,t,n,i,l,s;return e=new z({props:{slug:"/",title:"Home",onClick:r[2]}}),n=new z({props:{slug:"/projects",title:"Projects",onClick:r[2]}}),l=new z({props:{slug:"/sign-out",title:"Log Out",onClick:r[2]}}),{c(){x(e.$$.fragment),t=N(),x(n.$$.fragment),i=N(),x(l.$$.fragment)},l(a){L(e.$$.fragment,a),t=j(a),L(n.$$.fragment,a),i=j(a),L(l.$$.fragment,a)},m(a,u){I(e,a,u),y(a,t,u),I(n,a,u),y(a,i,u),I(l,a,u),s=!0},p:A,i(a){s||(E(e.$$.fragment,a),E(n.$$.fragment,a),E(l.$$.fragment,a),s=!0)},o(a){w(e.$$.fragment,a),w(n.$$.fragment,a),w(l.$$.fragment,a),s=!1},d(a){a&&(g(t),g(i)),T(e,a),T(n,a),T(l,a)}}}function pe(r){let e,t,n,i,l,s,a,u,c,o,m=re({length:3}),d=[];for(let f=0;f<m.length;f+=1)d[f]=he(me(r,m,f));const S=[de,ge],C=[];function O(f,v){return f[1]?0:1}return l=O(r),s=C[l]=S[l](r),{c(){e=_("nav"),t=_("button");for(let f=0;f<d.length;f+=1)d[f].c();n=N(),i=_("ul"),s.c(),this.h()},l(f){e=$(f,"NAV",{class:!0});var v=b(e);t=$(v,"BUTTON",{class:!0});var k=b(t);for(let R=0;R<d.length;R+=1)d[R].l(k);k.forEach(g),n=j(v),i=$(v,"UL",{class:!0});var V=b(i);s.l(V),V.forEach(g),v.forEach(g),this.h()},h(){h(t,"class","relative dark:hover:bg-slate-600 hover:bg-slate-200 rounded-lg transition-al cursor-pointer p-1.5 z-20 w-10 h-8 flex flex-col justify-between items-center"),h(i,"class",a=(r[0]?"right-0 w-full":"-right-full w-0")+" z-10 transition-all absolute pt-24 max-w-fulldark:bg-slate-700 outline bg-slate-200 top-0 h-min bottom-0 flex flex-col"),h(e,"class","block inset-0 overflow-x-hidden max-w-full")},m(f,v){y(f,e,v),p(e,t);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(t,null);p(e,n),p(e,i),C[l].m(i,null),u=!0,c||(o=H(t,"click",r[2]),c=!0)},p(f,[v]){let k=l;l=O(f),l===k?C[l].p(f,v):(le(),w(C[k],1,1,()=>{C[k]=null}),se(),s=C[l],s?s.p(f,v):(s=C[l]=S[l](f),s.c()),E(s,1),s.m(i,null)),(!u||v&1&&a!==(a=(f[0]?"right-0 w-full":"-right-full w-0")+" z-10 transition-all absolute pt-24 max-w-fulldark:bg-slate-700 outline bg-slate-200 top-0 h-min bottom-0 flex flex-col"))&&h(i,"class",a)},i(f){u||(E(s),u=!0)},o(f){w(s),u=!1},d(f){f&&g(e),ne(d,f),C[l].d(),c=!1,o()}}}function _e(r,e,t){let n;P(r,B,s=>t(1,n=s));let i=!1;function l(){t(0,i=!i)}return[i,n,l]}class $e extends U{constructor(e){super(),D(this,e,_e,pe,M,{})}}function be(r){let e,t,n,i;return{c(){e=_("button"),this.h()},l(l){e=$(l,"BUTTON",{title:!0,class:!0,style:!0}),b(e).forEach(g),this.h()},h(){h(e,"title",t="toggle "+(r[0]?"light mode":"dark mode")),h(e,"class","hover:outline dark:hover:outline-black outline-slate-400 hover:scale-105 transition-all z-20 relative rounded-full dark:invert bg-center bg-contain bg-no-repeat w-8 h-8"),q(e,"background-image","url('"+(r[0]?K:G)+"')")},m(l,s){y(l,e,s),n||(i=H(e,"click",r[1]),n=!0)},p(l,[s]){s&1&&t!==(t="toggle "+(l[0]?"light mode":"dark mode"))&&h(e,"title",t),s&1&&q(e,"background-image","url('"+(l[0]?K:G)+"')")},i:A,o:A,d(l){l&&g(e),n=!1,i()}}}const G="/darkmode.svg",K="/lightmode.svg";function ve(r,e,t){let n=!1;function i(){t(0,n=!n),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}return[n,i]}class ke extends U{constructor(e){super(),D(this,e,ve,be,M,{})}}function we(r){let e,t,n='<div class="absolute inset-0"></div> <span class="drop-shadow-lg rounded-full shadow-slate-200 block bg-contain bg-center bg-no-repeat w-10 h-10" style="background-image: url(&#39;/logo.png&#39;)"></span> <span class="dark:text-white tracking-widest uppercase">Test Compass</span>',i,l,s,a,u,c;return s=new ke({}),u=new $e({}),{c(){e=_("header"),t=_("a"),t.innerHTML=n,i=N(),l=_("div"),x(s.$$.fragment),a=N(),x(u.$$.fragment),this.h()},l(o){e=$(o,"HEADER",{class:!0});var m=b(e);t=$(m,"A",{href:!0,title:!0,class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-hjb9nw"&&(t.innerHTML=n),i=j(m),l=$(m,"DIV",{class:!0});var d=b(l);L(s.$$.fragment,d),a=j(d),L(u.$$.fragment,d),d.forEach(g),m.forEach(g),this.h()},h(){h(t,"href","/"),h(t,"title","home"),h(t,"class","z-50 relative cursor-pointer p-2 rounded-lg hover:bg-white hover:bg-opacity-10 transition-all flex flex-row gap-2 justify-start items-center"),h(l,"class","flex flex-row items-cente p-4 gap-5"),h(e,"class","shadow-md shadow-slate-200 py-4 p-1 bg-slate-100 dark:bg-slate-800 flex flex-row items-center justify-between gap-2")},m(o,m){y(o,e,m),p(e,t),p(e,i),p(e,l),I(s,l,null),p(l,a),I(u,l,null),c=!0},p:A,i(o){c||(E(s.$$.fragment,o),E(u.$$.fragment,o),c=!0)},o(o){w(s.$$.fragment,o),w(u.$$.fragment,o),c=!1},d(o){o&&g(e),T(s),T(u)}}}class Ee extends U{constructor(e){super(),D(this,e,null,we,M,{})}}function ye(r){let e,t,n,i,l,s,a;i=new Ee({});const u=r[3].default,c=J(u,r,r[2],null);return{c(){e=_("div"),t=_("div"),n=N(),x(i.$$.fragment),l=N(),s=_("main"),c&&c.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var m=b(e);t=$(m,"DIV",{class:!0}),b(t).forEach(g),n=j(m),L(i.$$.fragment,m),l=j(m),s=$(m,"MAIN",{class:!0});var d=b(s);c&&c.l(d),d.forEach(g),m.forEach(g),this.h()},h(){h(t,"class","inset-0 absolute hidden bg-gradient-to-r from-slate-500 via-transparent to-slate-500"),h(s,"class","dark:text-white dark:bg-slate-800 h-full bg-slate-100 p-2 py-8 min-h-lvh flex flex-col items-center gap-10"),h(e,"class","min-h-dvh overflow-x-hidden relative")},m(o,m){y(o,e,m),p(e,t),p(e,n),I(i,e,null),p(e,l),p(e,s),c&&c.m(s,null),a=!0},p(o,[m]){c&&c.p&&(!a||m&4)&&Q(c,u,o,o[2],a?X(u,o[2],m,null):W(o[2]),null)},i(o){a||(E(i.$$.fragment,o),E(c,o),a=!0)},o(o){w(i.$$.fragment,o),w(c,o),a=!1},d(o){o&&g(e),T(i),c&&c.d(o)}}}function Ce(r,e,t){let n;P(r,ue,o=>t(1,n=o));let{$$slots:i={},$$scope:l}=e;const a="http://localhost:8000/organizations/user/";let u=!1;Y(async()=>{t(0,u=!0),await c()});async function c(){(await fetch(a,{method:"GET",credentials:"include"})).status==401?(B.set(!1),n.url.pathname!="/register"&&oe("/login")):B.set(!0)}return r.$$set=o=>{"$$scope"in o&&t(2,l=o.$$scope)},r.$$.update=()=>{r.$$.dirty&3&&u&&n.url.pathname&&c()},[u,n,l,i]}class Ne extends U{constructor(e){super(),D(this,e,Ce,ye,M,{})}}export{Ne as component};
