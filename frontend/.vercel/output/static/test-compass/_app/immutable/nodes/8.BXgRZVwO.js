import{s as he,n as de,r as _e}from"../chunks/scheduler.Cvp1HtTB.js";import{S as ve,i as xe,e as i,s as g,c as o,a as y,p as B,f as b,d as E,k as e,y as L,g as me,h as t,z,q as V,A as Ce}from"../chunks/index.Cn1wqISX.js";import{g as pe}from"../chunks/entry.0S8UcRWE.js";async function ge({params:s}){return s}const ke=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));function fe(s){let r,a="Failed to create test procedure.";return{c(){r=i("p"),r.textContent=a},l(T){r=o(T,"P",{"data-svelte-h":!0}),B(r)!=="svelte-urb1dt"&&(r.textContent=a)},m(T,A){me(T,r,A)},d(T){T&&E(r)}}}function be(s){let r,a,T="New User Acceptance Test",A,n,C,l,O="Name",U,f,q,k,P,M="Description",X,d,F,h,R,le="Preconditions",Y,_,Z,D,j,re="Steps",$,v,ee,I,w,ie="Expected Result",te,x,ne,H,N,oe="Create",se,S,ue="Discard",ae,ce,m=s[0]&&fe();return{c(){r=i("section"),a=i("h2"),a.textContent=T,A=g(),n=i("form"),C=i("div"),l=i("label"),l.textContent=O,U=g(),f=i("input"),q=g(),k=i("div"),P=i("label"),P.textContent=M,X=g(),d=i("textarea"),F=g(),h=i("div"),R=i("label"),R.textContent=le,Y=g(),_=i("textarea"),Z=g(),D=i("div"),j=i("label"),j.textContent=re,$=g(),v=i("textarea"),ee=g(),I=i("div"),w=i("label"),w.textContent=ie,te=g(),x=i("textarea"),ne=g(),m&&m.c(),H=g(),N=i("button"),N.textContent=oe,se=g(),S=i("button"),S.textContent=ue,this.h()},l(u){r=o(u,"SECTION",{class:!0});var c=y(r);a=o(c,"H2",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-r34u3t"&&(a.textContent=T),A=b(c),n=o(c,"FORM",{class:!0});var p=y(n);C=o(p,"DIV",{class:!0});var J=y(C);l=o(J,"LABEL",{for:!0,"data-svelte-h":!0}),B(l)!=="svelte-h255s"&&(l.textContent=O),U=b(J),f=o(J,"INPUT",{id:!0,name:!0,type:!0,minlength:!0}),J.forEach(E),q=b(p),k=o(p,"DIV",{class:!0});var K=y(k);P=o(K,"LABEL",{for:!0,"data-svelte-h":!0}),B(P)!=="svelte-15l7gi"&&(P.textContent=M),X=b(K),d=o(K,"TEXTAREA",{id:!0,name:!0,type:!0,minlength:!0,class:!0}),y(d).forEach(E),K.forEach(E),F=b(p),h=o(p,"DIV",{class:!0});var G=y(h);R=o(G,"LABEL",{for:!0,"data-svelte-h":!0}),B(R)!=="svelte-10xzoeq"&&(R.textContent=le),Y=b(G),_=o(G,"TEXTAREA",{id:!0,name:!0,type:!0,minlength:!0,class:!0}),y(_).forEach(E),G.forEach(E),Z=b(p),D=o(p,"DIV",{class:!0});var Q=y(D);j=o(Q,"LABEL",{for:!0,"data-svelte-h":!0}),B(j)!=="svelte-1ucngcu"&&(j.textContent=re),$=b(Q),v=o(Q,"TEXTAREA",{id:!0,name:!0,type:!0,minlength:!0,class:!0}),y(v).forEach(E),Q.forEach(E),ee=b(p),I=o(p,"DIV",{class:!0});var W=y(I);w=o(W,"LABEL",{for:!0,"data-svelte-h":!0}),B(w)!=="svelte-5mnykr"&&(w.textContent=ie),te=b(W),x=o(W,"TEXTAREA",{id:!0,name:!0,type:!0,minlength:!0,class:!0}),y(x).forEach(E),W.forEach(E),ne=b(p),m&&m.l(p),H=b(p),N=o(p,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(N)!=="svelte-1eu86fk"&&(N.textContent=oe),se=b(p),S=o(p,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(S)!=="svelte-19wyxvz"&&(S.textContent=ue),p.forEach(E),c.forEach(E),this.h()},h(){e(a,"class","text-center text-xl font-mono font-extralight"),e(l,"for","name"),e(f,"id","name"),e(f,"name","name"),e(f,"type","text"),e(f,"minlength","3"),L(f,"invalid",s[2].name),e(C,"class","input-container"),e(P,"for","description"),e(d,"id","description"),e(d,"name","description"),e(d,"type","text"),e(d,"minlength","10"),e(d,"class","resize-y h-16 max-h-32"),L(d,"invalid",s[2].description),e(k,"class","input-container"),e(R,"for","name"),e(_,"id","preconditions"),e(_,"name","preconditions"),e(_,"type","text"),e(_,"minlength","10"),e(_,"class","resize-y h-16 max-h-32"),L(_,"invalid",s[2].preconditions),e(h,"class","input-container"),e(j,"for","name"),e(v,"id","steps"),e(v,"name","steps"),e(v,"type","text"),e(v,"minlength","10"),e(v,"class","resize-y h-16 max-h-32"),L(v,"invalid",s[2].steps),e(D,"class","input-container"),e(w,"for","expected-result"),e(x,"id","expected-result"),e(x,"name","expected-result"),e(x,"type","text"),e(x,"minlength","10"),e(x,"class","resize-y h-16 max-h-32"),L(x,"invalid",s[2].expected_result),e(I,"class","input-container"),e(N,"type","submit"),e(N,"class","btn"),e(S,"type","reset"),e(S,"class","btn-secondary"),e(n,"class","flex max-w-sm w-full gap-2 flex-col items-center justify-center"),e(r,"class","dark:bg-slate-700 flex flex-col items-center gap-5 py-12 bg-slate-200")},m(u,c){me(u,r,c),t(r,a),t(r,A),t(r,n),t(n,C),t(C,l),t(C,U),t(C,f),z(f,s[1].name),t(n,q),t(n,k),t(k,P),t(k,X),t(k,d),z(d,s[1].description),t(n,F),t(n,h),t(h,R),t(h,Y),t(h,_),z(_,s[1].preconditions),t(n,Z),t(n,D),t(D,j),t(D,$),t(D,v),z(v,s[1].steps),t(n,ee),t(n,I),t(I,w),t(I,te),t(I,x),z(x,s[1].expected_result),t(n,ne),m&&m.m(n,null),t(n,H),t(n,N),t(n,se),t(n,S),ae||(ce=[V(f,"input",s[6]),V(d,"input",s[7]),V(_,"input",s[8]),V(v,"input",s[9]),V(x,"input",s[10]),V(S,"click",s[11]),V(n,"submit",Ce(s[4]))],ae=!0)},p(u,[c]){c&2&&f.value!==u[1].name&&z(f,u[1].name),c&4&&L(f,"invalid",u[2].name),c&2&&z(d,u[1].description),c&4&&L(d,"invalid",u[2].description),c&2&&z(_,u[1].preconditions),c&4&&L(_,"invalid",u[2].preconditions),c&2&&z(v,u[1].steps),c&4&&L(v,"invalid",u[2].steps),c&2&&z(x,u[1].expected_result),c&4&&L(x,"invalid",u[2].expected_result),u[0]?m||(m=fe(),m.c(),m.m(n,H)):m&&(m.d(1),m=null)},i:de,o:de,d(u){u&&E(r),m&&m.d(),ae=!1,_e(ce)}}}function Ee(s,r,a){const T="http://localhost:8000/";let{data:A}=r;const n=`/projects/${A.slug}`;let C=!1,l={name:"",description:"",preconditions:"",expected_result:""},O={name:!1,description:!1,preconditions:!1,expected_result:!1};async function U(){if(!f()){alert("Please fill in the input fields.");return}try{(await q()).ok?(a(0,C=!1),pe(n)):a(0,C=!0)}catch{a(0,C=!0)}}function f(){return a(2,O.name=!l.name.trim(),O),a(2,O.description=!l.description.trim(),O),!Object.values(O).includes(!0)}async function q(){const h=`${T}organizations/projects/${A.slug}/tests/create/`;return await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"})}function k(){l.name=this.value,a(1,l)}function P(){l.description=this.value,a(1,l)}function M(){l.preconditions=this.value,a(1,l)}function X(){l.steps=this.value,a(1,l)}function d(){l.expected_result=this.value,a(1,l)}const F=()=>pe(n);return s.$$set=h=>{"data"in h&&a(5,A=h.data)},[C,l,O,n,U,A,k,P,M,X,d,F]}class Le extends ve{constructor(r){super(),xe(this,r,Ee,be,he,{data:5})}}export{Le as component,ke as universal};
