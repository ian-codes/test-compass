import{s as H,n as z,r as Q}from"../chunks/scheduler.Cvp1HtTB.js";import{S as M,i as X,e as m,s as b,c as d,a as k,p as j,f as E,d as T,k as s,y as L,g as G,h as l,z as B,q,A as W,u as Y,v as Z,w as ee,n as te,l as ne,x as se}from"../chunks/index.Cn1wqISX.js";import{g as ae}from"../chunks/entry.0S8UcRWE.js";function $(f){let e,t="Failed to create project.";return{c(){e=m("p"),e.textContent=t},l(a){e=d(a,"P",{"data-svelte-h":!0}),j(e)!=="svelte-15csfyf"&&(e.textContent=t)},m(a,C){G(a,e,C)},d(a){a&&T(e)}}}function re(f){let e,t,a="Create New Project",C,n,r,c,A="Name",P,i,N,_,x,F="Description",D,u,S,O,g,V="Create",U,y,J="Discard",I,K,o=f[0]&&$();return{c(){e=m("section"),t=m("h2"),t.textContent=a,C=b(),n=m("form"),r=m("div"),c=m("label"),c.textContent=A,P=b(),i=m("input"),N=b(),_=m("div"),x=m("label"),x.textContent=F,D=b(),u=m("textarea"),S=b(),o&&o.c(),O=b(),g=m("button"),g.textContent=V,U=b(),y=m("button"),y.textContent=J,this.h()},l(p){e=d(p,"SECTION",{class:!0});var h=k(e);t=d(h,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-2ffc18"&&(t.textContent=a),C=E(h),n=d(h,"FORM",{class:!0});var v=k(n);r=d(v,"DIV",{class:!0});var R=k(r);c=d(R,"LABEL",{for:!0,"data-svelte-h":!0}),j(c)!=="svelte-h255s"&&(c.textContent=A),P=E(R),i=d(R,"INPUT",{id:!0,name:!0,type:!0,minlength:!0}),R.forEach(T),N=E(v),_=d(v,"DIV",{class:!0});var w=k(_);x=d(w,"LABEL",{for:!0,"data-svelte-h":!0}),j(x)!=="svelte-15l7gi"&&(x.textContent=F),D=E(w),u=d(w,"TEXTAREA",{id:!0,name:!0,type:!0,minlength:!0,class:!0}),k(u).forEach(T),w.forEach(T),S=E(v),o&&o.l(v),O=E(v),g=d(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(g)!=="svelte-1eu86fk"&&(g.textContent=V),U=E(v),y=d(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(y)!=="svelte-10vg2k8"&&(y.textContent=J),v.forEach(T),h.forEach(T),this.h()},h(){s(t,"class","text-center text-xl font-mono font-extralight"),s(c,"for","name"),s(i,"id","name"),s(i,"name","name"),s(i,"type","text"),s(i,"minlength","3"),L(i,"invalid",f[2].name),s(r,"class","input-container"),s(x,"for","description"),s(u,"id","description"),s(u,"name","description"),s(u,"type","text"),s(u,"minlength","10"),s(u,"class","resize-y h-16 max-h-32"),L(u,"invalid",f[2].description),s(_,"class","input-container"),s(g,"type","submit"),s(g,"class","btn"),s(y,"type","reset"),s(y,"class","btn-secondary"),s(n,"class","flex max-w-sm w-full gap-2 flex-col items-center justify-center"),s(e,"class","dark:bg-slate-600 flex flex-col items-center gap-5 py-12 bg-slate-300")},m(p,h){G(p,e,h),l(e,t),l(e,C),l(e,n),l(n,r),l(r,c),l(r,P),l(r,i),B(i,f[1].name),l(n,N),l(n,_),l(_,x),l(_,D),l(_,u),B(u,f[1].description),l(n,S),o&&o.m(n,null),l(n,O),l(n,g),l(n,U),l(n,y),I||(K=[q(i,"input",f[4]),q(u,"input",f[5]),q(n,"submit",W(f[3]))],I=!0)},p(p,[h]){h&2&&i.value!==p[1].name&&B(i,p[1].name),h&4&&L(i,"invalid",p[2].name),h&2&&B(u,p[1].description),h&4&&L(u,"invalid",p[2].description),p[0]?o||(o=$(),o.c(),o.m(n,O)):o&&(o.d(1),o=null)},i:z,o:z,d(p){p&&T(e),o&&o.d(),I=!1,Q(K)}}}function le(f,e,t){const C="http://localhost:8000/organizations/projects/create/";let n=!1,r={name:"",description:""},c={name:!1,description:!1};async function A(){if(!P()){alert("Please fill in the input fields.");return}try{(await i()).ok?(t(0,n=!1),ae("/")):t(0,n=!0)}catch{t(0,n=!0)}}function P(){return t(2,c.name=!r.name.trim(),c),t(2,c.description=!r.description.trim(),c),!Object.values(c).includes(!0)}async function i(){return await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"})}function N(){r.name=this.value,t(1,r)}function _(){r.description=this.value,t(1,r)}return[n,r,c,A,N,_]}class ie extends M{constructor(e){super(),X(this,e,le,re,H,{})}}function oe(f){let e,t;return e=new ie({}),{c(){Y(e.$$.fragment)},l(a){Z(e.$$.fragment,a)},m(a,C){ee(e,a,C),t=!0},p:z,i(a){t||(te(e.$$.fragment,a),t=!0)},o(a){ne(e.$$.fragment,a),t=!1},d(a){se(e,a)}}}class pe extends M{constructor(e){super(),X(this,e,null,oe,H,{})}}export{pe as component};
