import{s as G,n as H,r as Q}from"../chunks/scheduler.Cvp1HtTB.js";import{S as W,i as Y,e as d,s as E,c as p,a as j,p as P,f as k,d as O,k as n,y as D,g as X,h as a,z as I,q as L,A as Z}from"../chunks/index.Cn1wqISX.js";import{g as J}from"../chunks/entry.0S8UcRWE.js";async function $({params:r}){return r}const le=Object.freeze(Object.defineProperty({__proto__:null,load:$},Symbol.toStringTag,{value:"Module"}));function K(r){let e,s="Failed to create test procedure.";return{c(){e=d("p"),e.textContent=s},l(h){e=p(h,"P",{"data-svelte-h":!0}),P(e)!=="svelte-urb1dt"&&(e.textContent=s)},m(h,_){X(h,e,_)},d(h){h&&O(e)}}}function ee(r){let e,s,h="New Test Procedure",_,t,u,l,b="Name",N,i,S,v,x,w="Description",C,c,R,A,T,F="Create",U,y,V="Discard",q,M,o=r[0]&&K();return{c(){e=d("section"),s=d("h2"),s.textContent=h,_=E(),t=d("form"),u=d("div"),l=d("label"),l.textContent=b,N=E(),i=d("input"),S=E(),v=d("div"),x=d("label"),x.textContent=w,C=E(),c=d("textarea"),R=E(),o&&o.c(),A=E(),T=d("button"),T.textContent=F,U=E(),y=d("button"),y.textContent=V,this.h()},l(f){e=p(f,"SECTION",{class:!0});var m=j(e);s=p(m,"H2",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-1w218ho"&&(s.textContent=h),_=k(m),t=p(m,"FORM",{class:!0});var g=j(t);u=p(g,"DIV",{class:!0});var z=j(u);l=p(z,"LABEL",{for:!0,"data-svelte-h":!0}),P(l)!=="svelte-h255s"&&(l.textContent=b),N=k(z),i=p(z,"INPUT",{id:!0,name:!0,type:!0,minlength:!0}),z.forEach(O),S=k(g),v=p(g,"DIV",{class:!0});var B=j(v);x=p(B,"LABEL",{for:!0,"data-svelte-h":!0}),P(x)!=="svelte-15l7gi"&&(x.textContent=w),C=k(B),c=p(B,"TEXTAREA",{id:!0,name:!0,type:!0,minlength:!0,class:!0}),j(c).forEach(O),B.forEach(O),R=k(g),o&&o.l(g),A=k(g),T=p(g,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1eu86fk"&&(T.textContent=F),U=k(g),y=p(g,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(y)!=="svelte-19wyxvz"&&(y.textContent=V),g.forEach(O),m.forEach(O),this.h()},h(){n(s,"class","text-center text-xl font-mono font-extralight"),n(l,"for","name"),n(i,"id","name"),n(i,"name","name"),n(i,"type","text"),n(i,"minlength","3"),D(i,"invalid",r[2].name),n(u,"class","input-container"),n(x,"for","description"),n(c,"id","description"),n(c,"name","description"),n(c,"type","text"),n(c,"minlength","10"),n(c,"class","resize-y h-16 max-h-32"),D(c,"invalid",r[2].description),n(v,"class","input-container"),n(T,"type","submit"),n(T,"class","btn"),n(y,"type","reset"),n(y,"class","btn-secondary"),n(t,"class","flex max-w-sm w-full gap-2 flex-col items-center justify-center"),n(e,"class","dark:bg-slate-700 flex flex-col items-center gap-5 py-12 bg-slate-200")},m(f,m){X(f,e,m),a(e,s),a(e,_),a(e,t),a(t,u),a(u,l),a(u,N),a(u,i),I(i,r[1].name),a(t,S),a(t,v),a(v,x),a(v,C),a(v,c),I(c,r[1].description),a(t,R),o&&o.m(t,null),a(t,A),a(t,T),a(t,U),a(t,y),q||(M=[L(i,"input",r[6]),L(c,"input",r[7]),L(y,"click",r[8]),L(t,"submit",Z(r[4]))],q=!0)},p(f,[m]){m&2&&i.value!==f[1].name&&I(i,f[1].name),m&4&&D(i,"invalid",f[2].name),m&2&&I(c,f[1].description),m&4&&D(c,"invalid",f[2].description),f[0]?o||(o=K(),o.c(),o.m(t,A)):o&&(o.d(1),o=null)},i:H,o:H,d(f){f&&O(e),o&&o.d(),q=!1,Q(M)}}}function te(r,e,s){const h="http://localhost:8000/";let{data:_}=e;const t=`/projects/${_.slug}`;let u=!1,l={name:"",description:""},b={name:!1,description:!1};async function N(){if(!i()){alert("Please fill in the input fields.");return}try{(await S()).ok?(s(0,u=!1),J(t)):s(0,u=!0)}catch{s(0,u=!0)}}function i(){return s(2,b.name=!l.name.trim(),b),s(2,b.description=!l.description.trim(),b),!Object.values(b).includes(!0)}async function S(){const C=`${h}organizations/projects/${_.slug}/testprocedures/create/`;return await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),credentials:"include"})}function v(){l.name=this.value,s(1,l)}function x(){l.description=this.value,s(1,l)}const w=()=>J(t);return r.$$set=C=>{"data"in C&&s(5,_=C.data)},[u,l,b,t,N,_,v,x,w]}class re extends W{constructor(e){super(),Y(this,e,te,ee,G,{data:5})}}export{re as component,le as universal};
